<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 5.4.4 (402231)"/><meta name="created" content="2013-09-19 15:53:59 +0000"/><meta name="source-url" content="http://blog.csdn.net/jiyucn/article/details/2157189"/><meta name="updated" content="2013-09-28 04:23:58 +0000"/><title>Github + Markdown/reStructedText + Jekyll/Pelican打造个人博客</title></head><body style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><b style="font-size: 23px;">参考文章</b><div><br/><div>Pelican路线：</div><div><a href="http://www.lizherui.com/pages/2013/08/17/build_blog.html">http://www.lizherui.com/pages/2013/08/17/build_blog.html</a></div><div><br/></div><div>Jekyll路线：</div></div><div><a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html">http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html</a></div><div><a href="http://www.yangzhiping.com/tech/writing-space.html">http://www.yangzhiping.com/tech/writing-space.html</a></div><div><a href="http://www.yangzhiping.com/tech/r-markdown-knitr.html">http://www.yangzhiping.com/tech/r-markdown-knitr.html</a></div><div><a href="http://www.yangzhiping.com/tech/wordpress-to-jekyll.html">http://www.yangzhiping.com/tech/wordpress-to-jekyll.html</a></div><div><br/></div><div style="font-size: 23px;"><b>Pelican之旅</b></div><div><hr/></div><div><b>Pelican介绍</b></div><div><a href="http://docs.getpelican.com/en/3.1.1/">http://docs.getpelican.com/en/3.2/</a></div><div><br/></div><div>（发现ping不通papi.python.org，github也上不去，所以先暂停搞）</div><div><br/></div><div><b>安装</b>：</div><div>sudo pip install pelican</div><div>sudo pip install markdown（apt-get安装的markdown不管用貌似）</div><div><br/></div><div><b>使用</b>：</div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td valign="top"><div>mkdir blog &amp;&amp; cd blog</div><div>pelican-quickstart（复杂的配置过程...）</div><div>vi&nbsp;&nbsp;content/my-first-blog.md</div><div>make publish</div><div>make server（自检）</div><div>git clone git@github.com:Windriver/windriver.github.io.git</div><div>cd&nbsp;&nbsp;windriver.github.io.git</div><div>cp ../output/* . -r</div><div>git commit -a -m "xxx"</div><div>git push</div></td></tr></tbody></table><div><br/></div></div><div><br/></div><div><b>安装pelican-themes</b>：</div><div>cd ..</div><div>git clone <a href="https://github.com/getpelican/pelican-themes.git">https://github.com/getpelican/pelican-themes.git</a></div><div>cd&nbsp;&nbsp;pelican-themes/</div><div>sudo pelican-themes -i bootstrap2（试一下boostraps2主题）</div><div>修改pelicanconf.py，加入THEME = 'bootstrap2'</div><div>发布到github；</div><div><br/></div><div><b>加入GoogleAnalytics</b>：</div><div>登录<a href="http://www.google.com/analytics">GoogleAnalytics</a>，注册获得一个“跟踪 ID”；</div><div>修改pelicanconf.py，加入GOOGLE_ANALYTICS = 'UA-44200537-1'；</div><div>发布到github；</div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">Jekyll之旅</b> - 2013-9-21 0:24:27</div><div><hr/></div><div>发现用起来并不如想象中那样方便，于是停止尝试，<font color="#FF0000">先专心搞pelican</font>。</div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">使用第三方评论系统：友言</b> - 2013-9-22 23:55:53</div><div><hr/></div><div><a href="http://www.uyan.cc/">http://www.uyan.cc/</a>&nbsp;&nbsp;</div><div><br/></div><div>在某篇文章的&lt;article&gt;后面加上这块代码，就可以使用友言的服务了<br/><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td valign="top">&lt;!-- UY BEGIN --&gt;<br/>
&lt;div id="uyan_frame"&gt;&lt;/div&gt;<br/>
&lt;script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=1843826"&gt;&lt;/script&gt;<br/>
&lt;!-- UY END --&gt;</td></tr></tbody></table><div><br/></div></div><div>效果如下：</div><div><img src="Github%20+%20Markdown_reStructedText%20+%20Jekyll_Pelican%E6%89%93%E9%80%A0%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.resources/f6d6f35ca1e0c9c3646286aa994c3fc3.png" height="258" width="664"/></div><div><br/></div><div>下一步，我会修改pelican的源码，使其能在网页后面自动缀上这段代码。</div><div><br/></div><div>尝试了N久，终于搞定了。原来是在theme里面做的。</div><div><br/></div><div>我先修改了bootstrap2的bootstrap2/templates/article.html，加上：</div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td valign="top"><div style="font-size: 15px;">&nbsp;&nbsp;22 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {% if  <b>UYAN_UID</b> and SITEURL and article.status != "draft" %} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="font-size: 15px;">&nbsp;&nbsp;23 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- UY BEGIN --> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="font-size: 15px;">&nbsp;&nbsp;24 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <div id="uyan_frame"></div> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="font-size: 15px;">&nbsp;&nbsp;25 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid={{ UYAN_UID }}"></script> </div><div style="font-size: 15px;">&nbsp;&nbsp;26 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <!-- UY END --> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div style="font-size: 15px;">&nbsp;&nbsp;27 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {% endif %}&nbsp;&nbsp; </div><div><img src="Github%20+%20Markdown_reStructedText%20+%20Jekyll_Pelican%E6%89%93%E9%80%A0%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2.resources/3ee7f8d30175e351429d9fd9c967a5d4.png" height="127" width="1159"/></div></td></tr></tbody></table><div><br/></div></div><div>然后重装bootstrap2主题：</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo pelican-themes <b>-r</b> bootstrap2</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sudo&nbsp;&nbsp;pelican-themes <b>-i</b> bootstrap2</div><div>然后make publish，就OK了。</div><div><br/></div><div>从这里，可以看出，如果我自己需要定制一个theme的话，也要修改templates下面的各种.html。</div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">博客的图片管理</b> - 2013-9-23 1:32:24</div><div><hr/></div><div>https://lh5.googleusercontent.com/vBF-iWApPvDU7FMEr-eKzZHE8pnOfaNskczdPzYtxic=w640-h426-no</div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">与Evernote互通</b>&nbsp;&nbsp;- 2013-9-25 1:02:11</div><div><hr/></div><div>先注册Evernote的API key：</div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td valign="top">&nbsp;&nbsp;Your Evernote API Key
<p style="box-sizing: border-box; margin: 0px 0px 17px; padding: 0px; font-size: 14.399999618530273px; direction: ltr; font-family: 'Helvetica Neue', Helvetica, Helvetica, Arial, sans-serif; line-height: 1.6; color: rgb(34, 34, 34); background-color: rgb(255, 255, 255);"><em style="box-sizing: border-box; line-height: inherit;">API access details for your records:</em><br style="box-sizing: border-box;"/><span style="box-sizing: border-box; padding: 1px 4px 2px; font-size: 12px; font-weight: bold; text-align: center; line-height: 1; white-space: nowrap; position: relative; bottom: 1px; color: rgb(255, 255, 255); background-color: rgb(105, 170, 53);">Consumer Key:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>&nbsp;&nbsp;<code style="box-sizing: border-box; font-weight: bold; background-image: none; background-attachment: scroll; background-color: rgb(237, 246, 249); background-position: 0px 0px; background-repeat: repeat repeat;">windriver</code><br style="box-sizing: border-box;"/><span style="box-sizing: border-box; padding: 1px 4px 2px; font-size: 12px; font-weight: bold; text-align: center; line-height: 1; white-space: nowrap; position: relative; bottom: 1px; color: rgb(255, 255, 255); background-color: rgb(198, 15, 19);">Consumer Secret:</span>&nbsp;&nbsp;<code style="box-sizing: border-box; font-weight: bold; background-image: none; background-attachment: scroll; background-color: rgb(237, 246, 249); background-position: 0px 0px; background-repeat: repeat repeat;">4660f40068a33444</code>&nbsp;&nbsp;<br style="box-sizing: border-box;"/><span style="box-sizing: border-box; padding: 1px 4px 2px; font-size: 12px; font-weight: bold; text-align: center; line-height: 1; white-space: nowrap; position: relative; bottom: 1px; color: rgb(75, 75, 75); background-color: rgb(228, 228, 228);">Note:</span>&nbsp;&nbsp;<span style="box-sizing: border-box; line-height: 1.3; color: rgb(111, 111, 111); margin-bottom: 17px; font-family: webfont_light_italic, 'Helvetica Neue', Helvetica, Helvetica, Arial, sans-serif;">This info will also be emailed to you shortly</span></p></td></tr></tbody></table><div><br/></div></div><div>貌似上面的key不是正式的，只能访问sandbox，要想访问线上的服务器，要经过<a href="http://dev.evernote.com/support/glossary.php#k"><b>Key Activation</b></a>的过程。</div><div><br/></div><div>不管了，搞先。先安装python sdk：</div><div>sudo pip install evernote</div><div><br/></div><div>研究了下<a href="http://dev.yinxiang.com/documentation/">Evernote的API</a>，发现分为两组：本地API和云API。本地API只能访问Evernode在本地的文件，显然，这不是我想要的，而且很不方便。至于云API，我发现它有两种认证方式：</div><div><ol><li>OAuth认证；</li><li>开发者Token；</li></ol></div><div>开发者Token就是我想要的东西！于是我申请了一下：</div><div><table border="1" cellpadding="2" cellspacing="0" width="100%"><tbody><tr><td valign="top"><span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; font-weight: bold; line-height: 18px; background-color: rgb(255, 255, 255);">Developer Token:<br/></span>S=s9:U=f38d5:E=148a8cf4838:C=141511e1c3a:P=1cd:A=en-devtoken:V=2:H=06d5f3f2d0f723c0160290955387d55a<span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; font-weight: bold; line-height: 18px; background-color: rgb(255, 255, 255);"><br/></span><span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; font-weight: bold; line-height: 18px; background-color: rgb(255, 255, 255);">NoteStore URL:<br/></span>https://app.yinxiang.com/shard/s9/notestore<span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; font-weight: bold; line-height: 18px; background-color: rgb(255, 255, 255);"><br/></span><span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; font-weight: bold; line-height: 18px; background-color: rgb(255, 255, 255);">Expires:<br/></span><span style="color: rgb(59, 59, 59); font-family: Helvetica, Arial, Verdana, sans-serif; font-size: 12.800000190734863px; line-height: 18px; background-color: rgb(255, 255, 255);">24 September 2014, 17:57</span></td></tr></tbody></table><div><br/></div></div><div>昨晚搞了N小时，没搞定。今晚仔细研究了出错的原因，参考了<a href="http://discussion.evernote.com/topic/39624-getnotestoreurl-is-not-work/">论坛的帖子</a>，终于解决了问题。顺带了解了Thrift的用法和UserSotre/NoteStore的概念。</div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">Markdown VS. reStructedText</b> - &nbsp;&nbsp;2013-9-21 2:24:55</div><div><hr/></div><div>感觉用Markdown写出的东西，虽然很简洁，但是层次不分明，当内容多了以后，会感觉版面很乱。</div><div><br/></div><div>研究pelican时，觉得它的<a href="http://docs.getpelican.com/en/3.2/">官方文档</a>的板式就很好，我猜测是用RST生成的。结果一番调查，终于确定它就是用RST写的。于是我也决定改变方向，<font color="#FF0000">暂停使用Markdown，换用RST</font>！</div><div><br/></div><div>使用RST写完并上传以后，感觉不错，这是我近期的大突破。我相信，<b>Github</b> + <b>reStructedText</b> + <b>Pelican</b>这套工具就是我想要的东西！</div><div><br/></div><div><b>RST参考文章</b>：</div><div><a href="evernote:///view/997589/s9/511829c3-8044-4446-b2b6-2e42a75718fa/511829c3-8044-4446-b2b6-2e42a75718fa/" style="color:#69aa35">Sphinx与reStructedText的学习</a></div><div><a href="http://blog.csdn.net/jiyucn/article/details/2157189"><strong style="color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-align: -webkit-center; background-color: rgb(255, 255, 255);"><em>re</em></strong><strong style="color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-align: -webkit-center; background-color: rgb(255, 255, 255);">Structured<sup>Text</sup>&nbsp;&nbsp;</strong><strong style="color: rgb(51, 51, 51); font-family: Arial; line-height: 26px; text-align: -webkit-center; background-color: rgb(255, 255, 255);">简明教程</strong></a></div><div><a href="http://jwch.sdut.edu.cn/book/rst.html#id2">reStructuredText简明教程</a></div><div><a href="http://docs.python.org/2/">Python官方文档</a>（RST使用的典范）</div><div><br/></div><div><b>在线编辑器</b>：</div><div><a href="http://rst.ninjs.org/">http://rst.ninjs.org/</a></div><div><br/></div><div><br/></div><div><b style="font-size: 23px;">RST语法总结</b>&nbsp;&nbsp;- 2013-9-22 1:36:12</div><hr/><div><b>划分段落</b>（文章的提纲）</div><div><br/></div><div>.. toctree::</div><div>&nbsp;&nbsp;&nbsp;&nbsp;:maxdepth: 2 </div><div><br/></div><div><b>段落修饰</b>（如列表和引用）</div><div>.. tip::</div><div>.. seealso::&nbsp;&nbsp;</div><div>.. warning::</div><div><br/></div><div><b>文本修饰</b>（也可以叫行内标记）：加粗，斜体，超链接</div><div><br/></div><div><b>复杂元素</b>：表格，图片，代码，公式</div><div>插入代码：</div><div>:: &nbsp;&nbsp;（简单代码）</div><div>.. code-block:: c++</div><div><br/></div><div>插入图片</div><div>.. image:: ../../../image/kechengbiao.png &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div>&nbsp;&nbsp;&nbsp;&nbsp;:width: 320 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </div><div>&nbsp;&nbsp;&nbsp;&nbsp;:height: 480 &nbsp;&nbsp; </div><div><br/></div><div><b>锚定</b>：包括段落间锚定，文档间锚定。</div><div><br/></div><div><br/></div><div>http://192.168.1.112:8000/posts/2010/image/kechengbiao.png</div><div><br/></div><div>&nbsp;&nbsp;</div><div><br/></div><div><br/></div></body></html>